{% load i18n %}
{% load static %}
{% load thumbnail %}

{% block content %}
<div class="col">
        <div class="card h-100 shadow-sm">
          <!-- Photo -->
          {% if person.photo %}
            {% thumbnail person.photo "200x200" as thumb %}
            <img
              src="{{ thumb.url }}"
              class="card-img-top img-fluid"
              alt="{{ person.first_name }} {{ person.current_surname }}"
              style="height: 200px; object-fit: cover;">
            {% endthumbnail %}
          {% else %}
            <div
              class="card-img-top d-flex align-items-center justify-content-center bg-light"
              style="height: 200px; color: #aaa;">
              <i class="bi bi-person-fill" style="font-size: 4rem;"></i>
            </div>
          {% endif %}

          <!-- Card Body -->
          <div class="card-body">
            <h5 class="card-title mb-1">
              {{ person.first_name }} {{ person.current_surname }}
            </h5>
            <p class="card-text text-muted mb-2">
              {% if person.known_as %}
                (Known as: {{ person.known_as }})
              {% endif %}
            </p>
            <ul class="list-group list-group-flush">
              <li class="list-group-item">
                <small class="text-muted">
                  <i class="bi bi-calendar-heart me-2"></i>
                  <strong>Born:</strong>
                  {% if person.format_birth_date %}
                    {{ person.format_birth_date }}
                  {% else %}
                    <span class="fst-italic">Unknown</span>
                  {% endif %}
                </small>
              </li>
              <li class="list-group-item">
                <small class="text-muted">
                  <i class="bi bi-calendar-x me-2"></i>
                  <strong>Died:</strong>
                  {% if person.format_death_date %}
                    {{ person.format_death_date }}
                  {% else %}
                    <span class="fst-italic">Unknown</span>
                  {% endif %}
                </small>
              </li>
            </ul>
          </div>

          <!-- Card Footer (Optional) -->
          <div class="card-footer bg-transparent border-top-0">
            <a
              href="{% url 'fh:person_detail' person.id %}"
              class="btn btn-sm btn-outline-primary">
              View Details
            </a>
          </div>
        </div>
      </div>

{% endblock %}